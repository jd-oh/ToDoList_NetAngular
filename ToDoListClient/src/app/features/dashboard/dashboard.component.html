<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>ğŸ“Š Dashboard</h1>
    <p>Resumen de tus tareas</p>
  </div>

  @if (loading()) {
    <div class="loading-container">
      <div class="spinner"></div>
      <p>Cargando estadÃ­sticas...</p>
    </div>
  } @else {
    <div class="stats-grid">
      <div class="stat-card total">
        <div class="stat-icon">ğŸ“‹</div>
        <div class="stat-content">
          <h3>Total de Tareas</h3>
          <p class="stat-number">{{ dashboard()?.totalTasks ?? 0 }}</p>
        </div>
      </div>

      <div class="stat-card completed">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
          <h3>Completadas</h3>
          <p class="stat-number">{{ dashboard()?.completedTasks ?? 0 }}</p>
        </div>
      </div>

      <div class="stat-card pending">
        <div class="stat-icon">â³</div>
        <div class="stat-content">
          <h3>Pendientes</h3>
          <p class="stat-number">{{ dashboard()?.pendingTasks ?? 0 }}</p>
        </div>
      </div>

      <div class="stat-card progress">
        <div class="stat-icon">ğŸ“ˆ</div>
        <div class="stat-content">
          <h3>Progreso</h3>
          <p class="stat-number">{{ completionPercentage() }}%</p>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="completionPercentage()"></div>
        </div>
      </div>
    </div>

    <div class="dashboard-actions">
      <a routerLink="/tasks" class="action-card">
        <span class="action-icon">ğŸ“</span>
        <span class="action-text">Ver todas las tareas</span>
        <span class="action-arrow">â†’</span>
      </a>
    </div>

    @if (recentTodos().length > 0) {
      <div class="recent-tasks">
        <h2>ğŸ“Œ Tareas Recientes</h2>
        <div class="recent-list">
          @for (todo of recentTodos().slice(0, 5); track todo.id) {
            <div class="recent-item" [class.completed]="todo.isCompleted">
              <span class="status-dot"></span>
              <span class="task-title">{{ todo.title }}</span>
              <span class="task-status">
                {{ todo.isCompleted ? 'Completada' : 'Pendiente' }}
              </span>
            </div>
          }
        </div>
      </div>
    }
  }
</div>
